function Layout(c,f){function d(a){a.id&&(e[a.id]=a),a.type||(a.type=''),a.c&&a.c.forEach(d)}this._l=this.l=c,this.physBtns=process.env.HWVERSION==2?1:3,this.options=f||{},this.lazy=this.options.lazy||!1;let b;if(process.env.HWVERSION!=2){b=[];function a(c){c.type=='btn'&&b.push(c),c.c&&c.c.forEach(a)}a(c),b.length&&(this.physBtns=0,this.buttons=b,this.selectedButton=-1)}if(this.options.btns){var a=this.options.btns;if(this.physBtns>=a.length){this.b=a;let b=Math.floor(Bangle.appRect.h/this.physBtns);this.physBtns>2&&a.length==1&&a.unshift({label:''});while(this.physBtns>a.length)a.push({label:''});this._l.width=g.getWidth()-8,this._l={type:'h',filly:1,c:[this._l,{type:'v',pad:1,filly:1,c:a.map(a=>(a.type='txt',a.font='6x8',a.height=b,a.r=1,a))}]}}else this._l.width=g.getWidth()-32,this._l={type:'h',c:[this._l,{type:'v',c:a.map(a=>(a.type='btn',a.filly=1,a.width=32,a.r=1,a))}]},b&&b.push.apply(b,this._l.c[1].c)}this.setUI();var e=this;d(this._l),this.updateNeeded=!0}function prepareLazyRender(a,h,b,i,c){var d=a.bgCol==null?c:g.toColor(a.bgCol);if(d!=c||a.type=='txt'||a.type=='btn'||a.type=='img'||a.type=='custom'){var e=a.c;delete a.c;var f='H'+E.CRC32(E.toJS(a));if(e&&(a.c=e),!delete h[f]){var j=i[f]=[a.x,a.y,a.x+a.w-1,a.y+a.h-1];j.bg=c==null?g.theme.bg:c,b&&(b.push(a),b=null)}}if(a.c)for(var k of a.c)prepareLazyRender(k,h,b,i,d)}function getID(b,c){var a;return['date','tile'].some(d=>{if(a=(clock[d]||[]).findIndex(a=>a===b)+1,a)return c?!0:a=d+a}),a||b}function getField(a){return(clock[(a.match(/^[^\d]*/)||[])[0]]||[])[(a.match(/\d*$/)||[])[0]-1]}function getPage(a){return 0|sel[a]/(clock.sel[a]||{opt:1}).opt}function getOpt(a){return sel[a]&(clock.sel[a]||{opt:1}).opt-1}function getHR(a){return a=decodeTime(0|a),a.h+':'+('0'+a.m).substr(-2)}function recalc(a,b){return a.tTo-=b.valueOf()-a.calcAt,a.tToHR=getHR(a.tTo),a}function lLine(b){var a={bgCol:clock.lineColor};return b==='h'?Object.assign(a,{fillx:1,height:1}):b==='v'&&Object.assign(a,{width:1,filly:1}),a}function lHGroup(a,b){return{id:a,type:'h',fillx:1,c:b}}function lDate(a){return{id:a,type:'txt',font:'12x20',pady:-1,offsety:2,pxClear:!0,label:''}}function lClock(a){return{id:a,type:'txt',font:'Vector:66',pady:-6,offsetx:10,offsety:4,pxClear:!0,label:a}}function lTile(a){return{id:a,type:'custom',width:Bangle.appRect.w/3,height:36,value:'-',render:renderTile}}function lTileGroup(a){return{id:a,type:'h',c:[lTile('tile'+a[2]),lLine('v'),lTile('tile'+a[3]),lLine('v'),lTile('tile'+a[4])]}}function drawImg(a){function b(b,a){g.drawImage(atob(a.str),b.x+b.w/2-a.w/2+(0|a.offset),b.y+(a.h?b.h/2-a.h/2:2))}var c=getField(a.id);switch(c){case'steps':{b(a,{str:'IBCBAAAAAYAAAAPgAAAH8AAAD/gAfAf8AP4D/gD+AfwA/gH5AP4B8gH+A+Qf/gfIf/4/kP/+fyD//n5AAAAAgP/+fwA=',w:32});break}case'sunrise':{b(a,{str:'GhCBAAAhAACIRAARIgBESIgIgEQBD8IED/wIx/+MC//0AP/8DH//jN//7Af/+AH//gN//7MP/8M=',w:44});break}case'sunset':{b(a,{str:'JxCBAAAAgAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIEAAAAAAAAAEAAAAAIiAAAABAQAAACD4IAAAJ/yAAAAf/AAAAH/8EAAM//mAAAP/+A==',w:44});break}case'alarm':{a.value?b(a,{str:'EBCBAAGAY8ZH4s/zn/mf+R/4H/gf+B/4H/g//H/+AAADwAGA',w:16,offset:-12}):b(a,{str:'JCCBAABwAOAAHwAPgAfgAH4A/D/D8A+OBx8B84Ac+B7gAHeDyAABPDmAB9nDEcAEjAMEAIwAIIAQQAYQAgYAQcBAIAQAZ8IAQB4AIAQHEAIAQcCAIAYABAYAIAAgQAMAAQwAEAAIgAGB+BgADA8DAABgAGAAAwAMAAA+B8AABz/OAADgAHAAHAADgAOAABwAcAAA4A==',w:36,h:32});break}case'timer':{a.value?b(a,{str:'EBCBAABAAOAAsAGYAQwBBgF/H/5w+MGAf4A/gB+ADwAHAAIA',w:16,offset:-12}):b(a,{str:'JCCBAAVVVVYAaqqqoAKAABQAKAABQAKAABQAFAACgAFAACgAFAACgACgAFAACgAFAABQAKAAAoAUAAAUBoAAAKHQAAAFGgAAACtAAAACtAAAAFCgAAAKJQAAAUAoAAAoIUAABQAKAACg8FAACj/FAAFP/ygAF//+gAF//+gAL///QAL///QAL///QAVVVVYAaqqqoA==',w:36,h:32});break}}a.value&&(c==='alarm'||c==='timer')&&(a.opt?b(a,{str:'EBCBAADgALgAjBgGTALWA5MBoYGggYABwANAAmAGMAwcOAfg',w:16,offset:12}):b(a,{str:'EBCBAAfgHLgxDGEGQQLBE4EhwUGBg4ABwANAAmAGMAwdOAfg',w:16,offset:12}))}function renderTile(a){var b=a.value;clock.showTileIDs&&(a.value='ID: '+a.id),drawImg(a),a.value!==undefined&&g.setFontAlign(0,1).setFont('12x20').drawString(a.value,a.x+a.w/2,a.y+a.h+3),a.page&&g.setFontAlign(0,-1).setFont('6x8').drawString(a.page,a.x+a.w/2,a.y+8),a.value=b}function touchListener(d,c){var a=Object.keys(sel);a=a.map(a=>Object.assign(layout[getID(a)],{funct:function(){sel[this.field]++,setValue(this.field,new Date((0|Date.now()/6e4)*6e4))}})).filter(a=>a.page);for(var b=0;b<a.length;b++)c.x<a[b].x||c.x>a[b].x+a[b].w||c.y<a[b].y||c.y>a[b].y+a[b].h||(Bangle.buzz(25),a[b].funct())}function loadValues(a,e){if(!clock.modules[a])return delete cache[a];cache[a]||(cache[a]={});var b;switch(a){case'sundown':{var c=Storage.readJSON('mylocation.json',1),d=c?require('sundown')(e,c):0;b={sunrise:c?d?d.sunrise.time||'-':'?':'loc?',sunset:c?d?d.sunset.time||'-':'?':'loc?'};break}case'sched':{b={alarm:[],timer:[]},require('sched').getAlarms().filter(a=>a.on).map(a=>{var c=require('sched').getTimeToAlarm(a,e);c&&b[a.timer?'timer':'alarm'].push({t:a.t,tTo:c,calcAt:e.valueOf(),tHR:getHR(a.t),tToHR:getHR(c)})}),clock.modules.sched.forEach(a=>{b[a]=b[a].sort((a,b)=>a.tTo-b.tTo)});break}}return cache[a]!==b?(cache[a]=b,!0):!1}function getValue(a,b){switch(a){case'hour':return((this.leeding0?'0':' ')+b.getHours()).substr(-2);case'minute':return('0'+b.getMinutes()).substr(-2);case'date':return require('locale').date(b,1);case'dow':return require('locale').dow(b,1).substr(0,2);case'woy':{var d=new Date(b.getFullYear(),0,1),g=Math.ceil((b-d)/864e5),h=(' '+Math.ceil((g+(d.getDay()-11)%7+3)/7)).slice(-2);return(clock.woy||'Week'.substr(0,1))+h}case'steps':return Bangle.getHealthStatus('day').steps;case'sunrise':case'sunset':return cache.sundown[a];case'alarm':case'timer':{var e='',c=getPage(a);if(cache.sched[a].length){c>=cache.sched[a].length&&(sel[a]=c=0);var f=getOpt(a);e=(f?recalc(cache.sched[a][c],b):cache.sched[a][c])[f?'tToHR':'tHR']}return e}}}function setValue(b,e){var d=getID(b);if(!d)return;var c=getValue(b,e),a=layout[d];a.x!==undefined&&layout.clear(a),a.type==='custom'?(a.field=b,a.value=c,c&&sel[b]!==undefined&&(a.opt=getOpt(b),a.page=getPage(b)+1)):a.label=c,a.x!==undefined&&layout.render(a)}function initLayout(){layout=new Layout({type:'v',c:[{fillx:1,height:1},lLine('h'),lHGroup('h_date',['date1','date2','date3'].map(lDate)),lLine('h'),lHGroup('h_time',['hour',':','minute'].map(lClock)),lLine('h'),lTileGroup('h_123'),lLine('h'),lTileGroup('h_456')]}),layout.date1.padx=1,layout.date2.fillx=1,layout.hour.fillx=1,Object.keys(clock.modules).filter(a=>((Storage.read(a,0,1))?(clock.modules[a].some(a=>clock.tile.includes(a)))?!0:!1:((clock.modules[a].forEach(a=>{clock.tiles[getID(a,!0)]=''})),!1))),Object.keys(clock.sel).forEach(a=>{clock.tile.includes(a)&&(sel=Object.defineProperty(sel,a,{value:a.def||0}))})}Modules.addCached('ClockFace',function(){function a(a){if('f'==(typeof a)[0]&&(a={draw:a}),Object.keys(a).forEach(a=>{if(!['precision','init','draw','update','pause','resume','up','down','upDown','settingsFile'].includes(a))throw`Invalid ClockFace option: ${a}`}),!(a.draw||a.update))throw'ClockFace needs at least one of draw() or update() functions';if(this.draw=a.draw||(b=>{a.update.apply(this,[b,{d:!0,h:!0,m:!0,s:!0}])}),this.update=a.update||(b=>{g.clearRect(Bangle.appRect),a.draw.apply(this,[b,{d:!0,h:!0,m:!0,s:!0}])}),a.precision===1e3||a.precision===6e4)throw'ClockFace precision is in seconds, not ms';if(this.precision=a.precision||60,a.init&&(this.init=a.init),a.pause&&(this._pause=a.pause),a.resume&&(this._resume=a.resume),(a.up||a.down)&&a.upDown)throw'ClockFace up/down and upDown cannot be used together';if((a.up||a.down)&&(this._upDown=b=>{b<0&&a.up&&a.up.apply(this),b>0&&a.down&&a.down.apply(this)}),a.upDown&&(this._upDown=a.upDown),a.settingsFile){const b=require('Storage').readJSON(a.settingsFile,!0)||{};Object.keys(b).forEach(a=>{this[a]=b[a]})}['showDate','loadWidgets'].forEach(a=>{this[a]===undefined&&(this[a]=!0)}),'is12Hour'in this||(this.is12Hour=!!(require('Storage').readJSON('setting.json',!0)||{})['12hour'])}a.prototype.tick=function(){"ram";const a=new Date;const b={d:`${a.getFullYear()}-${a.getMonth()}-${a.getDate()}`,h:a.getHours(),m:a.getMinutes(),s:a.getSeconds()};if(!this._last)g.clear(!0),global.WIDGETS&&Bangle.drawWidgets(),g.reset(),this.draw.apply(this,[a,{d:!0,h:!0,m:!0,s:!0}]);else{let c={d:!1,h:!1,m:!1,s:!1};b.d!==this._last.d?c.d=c.h=c.m=c.s=!0:b.h!==this._last.h?c.h=c.m=c.s=!0:b.m!==this._last.m?c.m=c.s=!0:b.s!==this._last.s&&(c.s=!0),g.reset(),this.update.apply(this,[a,c])}if(this._last=b,this.paused)return;const c=this.precision*1e3;this._timeout=setTimeout(()=>this.tick(),c-Date.now()%c)},a.prototype.start=function(){Bangle.CLOCK=1,this.loadWidgets&&Bangle.loadWidgets(),this.init&&this.init.apply(this),this._upDown?Bangle.setUI('clockupdown',a=>this._upDown.apply(this,[a])):Bangle.setUI('clock'),delete this._last,this.paused=!1,this.tick(),Bangle.on('lcdPower',a=>{a?this.resume():this.pause()})},a.prototype.pause=function(){if(!this._timeout)return;clearTimeout(this._timeout),delete this._timeout,this.paused=!0,this._pause&&this._pause.apply(this)},a.prototype.resume=function(){if(this._timeout)return;delete this._last,this.paused=!1,this._resume&&this._resume.apply(this),this.tick()},a.prototype.redraw=function(){delete this._last,this.tick()},exports=a}),Modules.addCached('time_utils',function(){function e(a){return{d:a.d||0,h:a.h||0,m:a.m||0,s:a.s||0}}const c=1e3;const a=60*c;const b=60*a;const d=24*b;exports.encodeTime=f=>(f=e(f),f.d*d+f.h*b+f.m*a+f.s*c),exports.decodeTime=e=>{if((typeof e)[0]!='n')throw'Only a number can be decoded';var f=Math.floor(e/d);e-=f*d;var g=Math.floor(e/b);e-=g*b;var h=Math.floor(e/a);e-=h*a;var i=Math.floor(e/c);return{d:f,h:g,m:h,s:i}},exports.formatTime=b=>{var a=e((typeof b)[0]=='o'?b:exports.decodeTime(b));if(a.d!=0)throw'days not supported here';if(a.h<0||a.h>23)throw'Invalid value: must be 0 <= h <= 23';if(a.m<0||a.m>59)throw'Invalid value: must be 0 <= m <= 59';return a.h+':'+('0'+a.m).substr(-2)},exports.formatDuration=(c,d)=>{d=d||!1;var a='',b=e((typeof c)[0]=='o'?c:exports.decodeTime(c));return b.d>0&&(a+=b.d+'d '),b.h>0&&(a+=b.h+'h '),b.m>0&&(a+=b.m+'m '),b.s>0&&(a+=b.s+'s'),a=a.trim(),d?a.replace(' ',''):a},exports.getCurrentTimeMillis=()=>{var a=new Date;return(a.getHours()*3600+a.getMinutes()*60+a.getSeconds())*1e3}}),Layout.prototype.setUI=function(){Bangle.setUI();let a;if(this.buttons&&(Bangle.setUI({mode:'updown',back:this.options.back},c=>{var a=this.selectedButton,b=this.buttons.length;if(c===undefined&&this.buttons[a])return this.buttons[a].cb();this.buttons[a]&&(delete this.buttons[a].selected,this.render(this.buttons[a])),a=(a+b+c)%b,this.buttons[a]&&(this.buttons[a].selected=1,this.render(this.buttons[a])),this.selectedButton=a}),a=!0),this.options.back&&!a&&Bangle.setUI({mode:'custom',back:this.options.back}),this.b){function a(a,b){b.time-b.lastTime>.75&&this.b[a].cbl?this.b[a].cbl(b):this.b[a].cb&&this.b[a].cb(b)}Bangle.btnWatches&&Bangle.btnWatches.forEach(clearWatch),Bangle.btnWatches=[],this.b[0]&&Bangle.btnWatches.push(setWatch(a.bind(this,0),BTN1,{repeat:!0,edge:-1})),this.b[1]&&Bangle.btnWatches.push(setWatch(a.bind(this,1),BTN2,{repeat:!0,edge:-1})),this.b[2]&&Bangle.btnWatches.push(setWatch(a.bind(this,2),BTN3,{repeat:!0,edge:-1}))}if(process.env.HWVERSION==2){function a(b,c){b.cb&&c.x>=b.x&&c.y>=b.y&&c.x<=b.x+b.w&&c.y<=b.y+b.h&&(c.type==2&&b.cbl?b.cbl(c):b.cb&&b.cb(c)),b.c&&b.c.forEach(b=>a(b,c))}Bangle.touchHandler=(c,b)=>a(this._l,b),Bangle.on('touch',Bangle.touchHandler)}},Layout.prototype.render=function(b){function c(a){"ram";g.reset(),a.col!==undefined&&g.setColor(a.col),a.bgCol!==undefined&&g.setBgColor(a.bgCol).clearRect(a.x,a.y,a.x+a.w-1,a.y+a.h-1),f[a.type](a)}b||(b=this._l),this.updateNeeded&&this.update();var f={'':function(){},txt:function(a){if(a.wrap){g.setFont(a.font).setFontAlign(0,-1);var b=g.wrapString(a.label,a.w),c=a.y+(a.h-g.getFontHeight()*b.length>>1);b.forEach((b,d)=>g.drawString(b,a.x+(a.w>>1),c+g.getFontHeight()*d))}else g.setFont(a.font).setFontAlign(0,0,a.r).drawString(a.label,a.x+(a.w>>1),a.y+(a.h>>1))},btn:function(a){var b=a.x+(0|a.pad)+(0|a.padx),c=a.y+(0|a.pad)+(0|a.pady),d=a.w-(a.pad<<1)-(a.padx<<1),e=a.h-(a.pad<<1)-(a.pady<<1),f=[b,c+4,b+4,c,b+d-5,c,b+d-1,c+4,b+d-1,c+e-5,b+d-5,c+e-1,b+4,c+e-1,b,c+e-5,b,c+4],h=a.selected?g.theme.bgH:g.theme.bg2;g.setColor(h).fillPoly(f).setColor(a.selected?g.theme.fgH:g.theme.fg2).drawPoly(f),a.col!==undefined&&g.setColor(a.col),a.src?g.setBgColor(h).drawImage('f'==(typeof a.src)[0]?a.src():a.src,a.x+a.w/2,a.y+a.h/2,{scale:a.scale||undefined,rotate:Math.PI*.5*(a.r||0)}):g.setFont(a.font||'6x8:2').setFontAlign(0,0,a.r).drawString(a.label,a.x+a.w/2,a.y+a.h/2)},img:function(a){g.drawImage('f'==(typeof a.src)[0]?a.src():a.src,a.x+a.w/2,a.y+a.h/2,{scale:a.scale||undefined,rotate:Math.PI*.5*(a.r||0)})},custom:function(a){a.render(a)},h:function(a){a.c.forEach(c)},v:function(a){a.c.forEach(c)}};if(this.lazy){this.rects||(this.rects={});var a=this.rects.clone(),d=[];prepareLazyRender(b,a,d,this.rects,null);for(var h in a)delete this.rects[h];var i=Object.keys(a).map(b=>a[b]).reverse();for(var e of i)g.setBgColor(e.bg).clearRect.apply(g,e);d.forEach(c)}else c(b)},Layout.prototype.forgetLazyState=function(){this.rects={}},Layout.prototype.layout=function(a){switch(a.type){case'h':{var b=a.x+(0|a.pad)+(0|a.padx),h=0,d=a.c&&a.c.reduce((a,b)=>a+(0|b.fillx),0);d||(b+=a.w-a._w>>1,d=1);var e=b;a.c.forEach(c=>{c.x=(0|e)+(0|c.offsetx),b+=c._w,h+=0|c.fillx,e=b+Math.floor(h*(a.w-a._w)/d),c.w=0|e-c.x,c.h=0|(c.filly?a.h-(a.pad<<1)-(a.pady<<1):c._h),c.y=0|a.y+(0|c.offsety)+(0|a.pad)+(0|a.pady)+((1+(0|c.valign))*(a.h-(a.pad<<1)-(a.pady<<1)-c.h)>>1),c.c&&this.layout(c)});break}case'v':{var c=a.y+(0|a.pad)+(0|a.pady),i=0,f=a.c&&a.c.reduce((a,b)=>a+(0|b.filly),0);f||(c+=a.h-a._h>>1,f=1);var g=c;a.c.forEach(b=>{b.y=(0|g)+(0|b.offsety),c+=b._h,i+=0|b.filly,g=c+Math.floor(i*(a.h-a._h)/f),b.h=0|g-b.y,b.w=0|(b.fillx?a.w-(a.pad<<1)-(a.padx<<1):b._w),b.x=0|a.x+(0|b.offsetx)+(0|a.pad)+(0|a.padx)+((1+(0|b.halign))*(a.w-(a.pad<<1)-(a.padx<<1)-b.w)>>1),b.c&&this.layout(b)});break}}},Layout.prototype.debug=function(a,b){a||(a=this._l),b=b||1,g.setColor(b&1,b&2,b&4).drawRect(a.x+b-1,a.y+b-1,a.x+a.w-b,a.y+a.h-b),(a.pad||a.padx||a.pady)&&g.drawRect(a.x+(0|a.pad)+(0|a.padx)-1,a.y+(0|a.pad)+(0|a.pady)-1,a.x+a.w-(0|a.pad)-(0|a.padx),a.y+a.h-(0|a.pad)-(0|a.pady)),b++,a.c&&a.c.forEach(a=>this.debug(a,b))},Layout.prototype.update=function(){function b(a){"ram";if(c[a.type](a),a.r&1){var b=a._w;a._w=a._h,a._h=b}a._w=0|Math.max(a._w+(a.pad<<1)+(a.padx<<1),0|a.width),a._h=0|Math.max(a._h+(a.pad<<1)+(a.pady<<1),0|a.height)}delete this.updateNeeded;var c={txt:function(a){if(a.font.endsWith('%')&&(a.font='Vector'+Math.round(g.getHeight()*a.font.slice(0,-1)/100)),a.wrap)a._h=a._w=0;else{var b=g.setFont(a.font).stringMetrics(a.label);a._w=b.width,a._h=b.height}},btn:function(a){a.font&&a.font.endsWith('%')&&(a.font='Vector'+Math.round(g.getHeight()*a.font.slice(0,-1)/100));var b=a.src?g.imageMetrics('f'==(typeof a.src)[0]?a.src():a.src):g.setFont(a.font||'6x8:2').stringMetrics(a.label);a._h=16+b.height,a._w=20+b.width},img:function(a){var b=g.imageMetrics('f'==(typeof a.src)[0]?a.src():a.src),c=a.scale||1;a._w=b.width*c,a._h=b.height*c},'':function(a){a._w=0,a._h=0},custom:function(a){a._w=0,a._h=0},h:function(a){a.c.forEach(b),a._h=a.c.reduce((a,b)=>Math.max(a,b._h),0),a._w=a.c.reduce((a,b)=>a+b._w,0),a.fillx==null&&a.c.some(a=>a.fillx)&&(a.fillx=1),a.filly==null&&a.c.some(a=>a.filly)&&(a.filly=1)},v:function(a){a.c.forEach(b),a._h=a.c.reduce((a,b)=>a+b._h,0),a._w=a.c.reduce((a,b)=>Math.max(a,b._w),0),a.fillx==null&&a.c.some(a=>a.fillx)&&(a.fillx=1),a.filly==null&&a.c.some(a=>a.filly)&&(a.filly=1)}},a=this._l;b(a),a.fillx||a.filly?(a.w=Bangle.appRect.w,a.h=Bangle.appRect.h,a.x=Bangle.appRect.x,a.y=Bangle.appRect.y):(a.w=a._w,a.h=a._h,a.x=Bangle.appRect.w-a.w>>1,a.y=Bangle.appRect.y+(Bangle.appRect.h-a.h>>1)),this.layout(a)},Layout.prototype.clear=function(a){if(a||(a=this._l),g.reset(),a.pxClear)if('hv'.includes(a.type))a.c.forEach(a=>{Layout.prototype.clear(a)});else{var b=a.col;a.col=a.bgCol||g.getBgColor(),Layout.prototype.render(a),a.col=b}else a.bgCol!==undefined&&g.setBgColor(a.bgCol),g.clearRect(a.x,a.y,a.x+a.w-1,a.y+a.h-1)};var ClockFace=require('ClockFace'),decodeTime=require('time_utils').decodeTime,Storage=require('Storage'),layout,cache={},sel={},clock=new ClockFace({init:initLayout,draw:function(a,b){this.update(a,b),layout.render(),Bangle.setUI({mode:'custom',touch:touchListener,btn:a=>{a===1&&Bangle.showLauncher()},clock:1})},update:function(a,b){a=new Date((0|a/6e4)*6e4),b.d&&(setValue('date',a),setValue('dow',a),setValue('woy',a),loadValues('sundown',a)&&clock.modules.sundown.forEach(b=>{setValue(b,a)})),b.h&&(setValue('hour',a),loadValues('sched',a)&&clock.modules.sched.forEach(a=>{b[a]=!0})),b.m&&(setValue('minute',a),setValue('steps'),clock.modules.sched&&clock.modules.sched.forEach(a=>{getOpt(a)&&(b[a]=!0)})),clock.modules.sched&&clock.modules.sched.forEach(c=>{b[c]&&setValue(c,a)})},pause:function(){},settingsFile:'infoclk.settings.json'});clock.start()